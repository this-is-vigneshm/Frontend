<span style="    
font-family: math;
font-size: xx-large;
font-weight: 900;
margin-left: -66%;">Inventory</span>

<input nz-input id="search-bar" type="text" [(ngModel)]="searchString" (change)="filterItems($event)"
  placeholder="Search Item" />


<button nz-button nzType="primary" id="create-item-button" (click)="showModalMiddle()">
  <span nz-icon nzType="plus" nzTheme="outline"></span></button>

<nz-modal [nzStyle]="{ top: '20px' , width:'45%'}" [nzWidth]="200" [(nzVisible)]="isVisibleMiddle"
  nzTitle="Create an Item" nzCentered (nzOnCancel)="handleCreateItemCancel()" (nzOnOk)="handleCreateItemOk()">


  <ng-container *nzModalContent>
    <app-inventory-create style="text-align: center;" [inventoryData]="selectedInventory"
      (close)="handleCreateItemOk()"></app-inventory-create>
  </ng-container>
</nz-modal>

<nz-table #filterTable [nzData]="searchResults">
  <thead id="item-table">
    <tr>
      <th></th>
      <th *ngFor="let column of listOfColumns" [nzSortOrder]="column.sortOrder" [nzSortFn]="column.sortFn"
        [nzSortDirections]="column.sortDirections" [nzFilters]="column.listOfFilter" [nzFilterFn]="column.filterFn">
        {{ column.name }}
      </th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <ng-template ngFor let-data [ngForOf]="filterTable.data">
      <tr>
        <td [(nzExpand)]="data.expand"></td>
        <td>{{ data.id }}</td>
        <td>{{ data.name }}</td>
        <td>{{ data.code}}</td>
        <td>{{ data.description}}</td>
        <td>{{ data.quantity}}</td>
        <td>{{ data.price}}</td>
        <td>
          <button nz-button [nzSize]="size" nzShape="circle"
            style=" border-color: rgb(224, 228, 234); background-color: #5cb85c; border-radius: 5px;" id="update-button"
            nz-button nz-popconfirm nzPopconfirmTitle="Proceed to update?" (nzOnConfirm)="handleUpdateItem(data)"
            nz-tooltip [nzTooltipTitle]="'Update Asset'" [nzTooltipColor]="'green'">
            <span nz-icon nzType="edit" nzTheme="twotone" [nzTwotoneColor]="'white'"></span>
          </button>
          <button nz-button [nzSize]="size" nzShape="circle"
          style=" border-color: rgb(224, 228, 234); background-color: #d9534f; border-radius: 5px;" id="delete-button"
          nz-button nz-popconfirm nzPopconfirmTitle="Sure to Delete?" (nzOnConfirm)="handleDelete(data.id)" nz-tooltip
          [nzTooltipTitle]="'Delete Asset'" [nzTooltipColor]="'red'">
            <span nz-icon nzType="delete" nzTheme="twotone" [nzTwotoneColor]="'white'"></span>
          </button>
        </td>
      </tr>
      <tr [nzExpand]="data.expand">
        <nz-table #innerTable [nzData]="searchResults" nzSize="small" [nzShowPagination]="false">
          <thead>
            <tr>
              <th *ngFor="let column of innerColumns" [nzSortOrder]="column.sortOrder" [nzSortFn]="column.sortFn"
                [nzSortDirections]="column.sortDirections">
                {{ column.name }}
              </th>
            </tr>
          </thead>
  <tbody>
    <tr>
      <td>{{ data.createdTime | date: 'dd/MM/yyyy hh:ss a' }}</td>
      <td>{{ data.createdBy }}</td>
      <td>{{ data.updatedTime | date: 'dd/MM/yyyy hh:ss a' }}</td>
      <td>{{ data.updatedBy }}</td>
    </tr>
  </tbody>
</nz-table>
</tr>
</ng-template>
</tbody>
</nz-table>